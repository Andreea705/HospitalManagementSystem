<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Nurse Details</title>
    <style>
        .detail-section { margin-bottom: 20px; }
        .detail-label { font-weight: bold; }
        .on-duty { color: green; }
        .off-duty { color: red; }
    </style>
</head>
<body>
<h1>Nurse Details</h1>

<div class="detail-section">
    <div><span class="detail-label">ID:</span> <span th:text="${nurse.id}"></span></div>
    <div><span class="detail-label">Medical Staff ID:</span> <span th:text="${nurse.medicalStaffId}"></span></div>
    <div><span class="detail-label">Name:</span> <span th:text="${nurse.medicalStaffName}"></span></div>
    <div><span class="detail-label">Qualification:</span> <span th:text="${nurse.qualificationLevel}"></span></div>
    <div><span class="detail-label">Shift:</span> <span th:text="${nurse.shift}"></span></div>
    <div><span class="detail-label">Duty Status:</span>
        <span th:class="${nurse.onDuty} ? 'on-duty' : 'off-duty'">
            <span th:text="${nurse.onDuty} ? 'ON DUTY' : 'OFF DUTY'"></span>
        </span>
    </div>
    <div><span class="detail-label">Department:</span>
        <a th:href="@{/departments/{id}(id=${nurse.department.id})}" th:if="${nurse.department != null}">
            <span th:text="${nurse.department.name}"></span>
        </a>
        <span th:if="${nurse.department == null}">Not assigned</span>
    </div>
</div>

<div style="margin-top: 20px;">
    <a th:href="@{/nurses/edit/{id}(id=${nurse.id})}" class="btn">Edit</a>
    <a th:href="@{/nurses}" class="btn">Back to List</a>

    <!-- Quick Actions -->
    <form th:action="@{/nurses/{id}/toggle-duty(id=${nurse.id})}" method="post" style="display: inline;">
        <button type="submit" class="btn">
            <span th:text="${nurse.onDuty} ? 'Set Off Duty' : 'Set On Duty'"></span>
        </button>
    </form>

    <form th:action="@{/nurses/{id}/change-shift(id=${nurse.id})}" method="post" style="display: inline;">
        <select name="newShift">
            <option value="Day">Day</option>
            <option value="Night">Night</option>
            <option value="Evening">Evening</option>
            <option value="Weekend">Weekend</option>
        </select>
        <button type="submit" class="btn">Change Shift</button>
    </form>

    <form th:action="@{/nurses/{id}/delete(id=${nurse.id})}" method="post" style="display: inline;">
        <button type="submit" class="btn" onclick="return confirm('Delete this nurse?')">Delete</button>
    </form>
</div>
</body>
</html>